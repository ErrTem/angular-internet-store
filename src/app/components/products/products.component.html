<div class="container-wrapper">

  <mat-toolbar *ngIf="canEdit">
    <mat-toolbar-row class="toolbar-editor">
      <span class="spacer"></span>
      <button class="add-products-button" mat-button (click)="openDialog()">Добавить товар</button>
    </mat-toolbar-row>
  </mat-toolbar>

  <div class="row">
    <div class="col-sm-12 col-md-6 col-lg-4 col-xxl-3" *ngFor="let product of products$ | async">
      <mat-card class="product-card">
        <mat-card-title class="title">{{product.title}}</mat-card-title>
        <img class="image" mat-card-image src="{{product.image}}">

        <mat-card-content class="content">
          <p class="price">Цена: <span>{{product.price | currency}}</span></p>
          <p class="ingredients">{{product.ingredients}}</p>
        </mat-card-content>

        <span class="spacer"></span>

        <mat-card-actions class="actions">
          <button
            class="button"
            mat-button
            (click)="addToBasket(product)"
            type="button"
            (click)="openSnackBar()" aria-label="Show an example snack-bar"
          >
            В корзину
          </button>
          <button
            class="button"
            mat-button
            (click)="openProduct(product)"
          >
            Подробнее
          </button>
          <button
            class="button"
            mat-button
            [matMenuTriggerFor]="menu"
          >
            Ред.
          </button>

          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="deleteItem(product)">Удалить</button>
            <button mat-menu-item (click)="openDialog(product)">Редактировать</button>
          </mat-menu>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
</div>
